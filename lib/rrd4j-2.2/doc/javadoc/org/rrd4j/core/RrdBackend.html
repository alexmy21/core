<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Wed Apr 10 15:33:16 CEST 2013 -->
<title>RrdBackend</title>
<meta name="date" content="2013-04-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RrdBackend";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/rrd4j/core/Robin.html" title="interface in org.rrd4j.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/rrd4j/core/RrdBackendFactory.html" title="class in org.rrd4j.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/rrd4j/core/RrdBackend.html" target="_top">Frames</a></li>
<li><a href="RrdBackend.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.rrd4j.core</div>
<h2 title="Class RrdBackend" class="title">Class RrdBackend</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.rrd4j.core.RrdBackend</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/rrd4j/core/RrdByteArrayBackend.html" title="class in org.rrd4j.core">RrdByteArrayBackend</a>, <a href="../../../org/rrd4j/core/RrdFileBackend.html" title="class in org.rrd4j.core">RrdFileBackend</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">RrdBackend</span>
extends java.lang.Object</pre>
<div class="block">Base implementation class for all backend classes. Each Round Robin Database object
 (<a href="../../../org/rrd4j/core/RrdDb.html" title="class in org.rrd4j.core"><code>RrdDb</code></a> object) is backed with a single RrdBackend object which performs
 actual I/O operations on the underlying storage. Rrd4j supports
 multiple backends out of the box. E.g.:</p>
 <ul>
 <li><a href="../../../org/rrd4j/core/RrdRandomAccessFileBackend.html" title="class in org.rrd4j.core"><code>RrdRandomAccessFileBackend</code></a>: objects of this class are created from the
 <a href="../../../org/rrd4j/core/RrdRandomAccessFileBackendFactory.html" title="class in org.rrd4j.core"><code>RrdRandomAccessFileBackendFactory</code></a> class. This was the default backend used in all
 Rrd4j releases prior to 1.4.0. It uses java.io.* package and
 RandomAccessFile class to store RRD data in files on the disk.

 <li><a href="../../../org/rrd4j/core/RrdNioBackend.html" title="class in org.rrd4j.core"><code>RrdNioBackend</code></a>: objects of this class are created from the
 <a href="../../../org/rrd4j/core/RrdNioBackendFactory.html" title="class in org.rrd4j.core"><code>RrdNioBackendFactory</code></a> class. The backend uses java.io.* and java.nio.*
 classes (mapped ByteBuffer) to store RRD data in files on the disk. This backend is fast, very fast,
 but consumes a lot of memory (borrowed not from the JVM but from the underlying operating system
 directly). <b>This is the default backend used in Rrd4j since 1.4.0 release.</b>

 <li><a href="../../../org/rrd4j/core/RrdMemoryBackend.html" title="class in org.rrd4j.core"><code>RrdMemoryBackend</code></a>: objects of this class are created from the
 <a href="../../../org/rrd4j/core/RrdMemoryBackendFactory.html" title="class in org.rrd4j.core"><code>RrdMemoryBackendFactory</code></a> class. This backend stores all data in memory. Once
 JVM exits, all data gets lost. The backend is extremely fast and memory hungry.
 </ul>

 To create your own backend in order to provide some custom type of RRD storage,
 you should do the following:</p>

 <ul>
 <li>Create your custom RrdBackend class (RrdCustomBackend, for example)
 by extending RrdBackend class. You have to implement all abstract methods defined
 in the base class.

 <li>Create your custom RrdBackendFactory class (RrdCustomBackendFactory,
 for example) by extending RrdBackendFactory class. You have to implement all
 abstract methods defined in the base class. Your custom factory class will actually
 create custom backend objects when necessary.

 <li>Create instance of your custom RrdBackendFactory and register it as a regular
 factory available to Rrd4j framework. See javadoc for <a href="../../../org/rrd4j/core/RrdBackendFactory.html" title="class in org.rrd4j.core"><code>RrdBackendFactory</code></a> to
 find out how to do this.
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#RrdBackend(java.lang.String)">RrdBackend</a></strong>(java.lang.String&nbsp;path)</code>
<div class="block">Creates backend for a RRD storage with the given path.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#close()">close</a></strong>()</code>
<div class="block">Closes the underlying backend.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#getLength()">getLength</a></strong>()</code>
<div class="block">Returns the number of RRD bytes in the underlying storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#getPath()">getPath</a></strong>()</code>
<div class="block">Returns path to the storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#isCachingAllowed()">isCachingAllowed</a></strong>()</code>
<div class="block">This method suggests the caching policy to the Rrd4j frontend (high-level) classes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#read(long, byte[])">read</a></strong>(long&nbsp;offset,
    byte[]&nbsp;b)</code>
<div class="block">Reads an array of bytes from the underlying storage starting from the given
 storage offset.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#readAll()">readAll</a></strong>()</code>
<div class="block">Reads all RRD bytes from the underlying storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#setLength(long)">setLength</a></strong>(long&nbsp;length)</code>
<div class="block">Sets the number of bytes in the underlying RRD storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../org/rrd4j/core/RrdBackend.html#write(long, byte[])">write</a></strong>(long&nbsp;offset,
     byte[]&nbsp;b)</code>
<div class="block">Writes an array of bytes to the underlying storage starting from the given
 storage offset.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RrdBackend(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RrdBackend</h4>
<pre>protected&nbsp;RrdBackend(java.lang.String&nbsp;path)</pre>
<div class="block">Creates backend for a RRD storage with the given path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - String identifying RRD storage. For files on the disk, this
             argument should represent file path. Other storage types might interpret
             this argument differently.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPath()</pre>
<div class="block">Returns path to the storage.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Storage path</dd></dl>
</li>
</ul>
<a name="write(long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>protected abstract&nbsp;void&nbsp;write(long&nbsp;offset,
         byte[]&nbsp;b)
                       throws java.io.IOException</pre>
<div class="block">Writes an array of bytes to the underlying storage starting from the given
 storage offset.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - Storage offset.</dd><dd><code>b</code> - Array of bytes that should be copied to the underlying storage</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error</dd></dl>
</li>
</ul>
<a name="read(long, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>protected abstract&nbsp;void&nbsp;read(long&nbsp;offset,
        byte[]&nbsp;b)
                      throws java.io.IOException</pre>
<div class="block">Reads an array of bytes from the underlying storage starting from the given
 storage offset.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - Storage offset.</dd><dd><code>b</code> - Array which receives bytes from the underlying storage</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error</dd></dl>
</li>
</ul>
<a name="getLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLength</h4>
<pre>public abstract&nbsp;long&nbsp;getLength()
                        throws java.io.IOException</pre>
<div class="block">Returns the number of RRD bytes in the underlying storage.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Number of RRD bytes in the storage.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error.</dd></dl>
</li>
</ul>
<a name="setLength(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLength</h4>
<pre>protected abstract&nbsp;void&nbsp;setLength(long&nbsp;length)
                           throws java.io.IOException</pre>
<div class="block">Sets the number of bytes in the underlying RRD storage.
 This method is called only once, immediately after a new RRD storage gets created.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>length</code> - Length of the underlying RRD storage in bytes.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error.</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Closes the underlying backend.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error</dd></dl>
</li>
</ul>
<a name="isCachingAllowed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCachingAllowed</h4>
<pre>protected&nbsp;boolean&nbsp;isCachingAllowed()</pre>
<div class="block">This method suggests the caching policy to the Rrd4j frontend (high-level) classes. If <code>true</code>
 is returned, frontend classes will cache frequently used parts of a RRD file in memory to improve
 performance. If </code>false</code> is returned, high level classes will never cache RRD file sections
 in memory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if file caching is enabled, <code>false</code> otherwise. By default, the
         method returns <code>true</code> but it can be overriden in subclasses.</dd></dl>
</li>
</ul>
<a name="readAll()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readAll</h4>
<pre>public final&nbsp;byte[]&nbsp;readAll()
                     throws java.io.IOException</pre>
<div class="block">Reads all RRD bytes from the underlying storage.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>RRD bytes</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown in case of I/O error</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/rrd4j/core/Robin.html" title="interface in org.rrd4j.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/rrd4j/core/RrdBackendFactory.html" title="class in org.rrd4j.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/rrd4j/core/RrdBackend.html" target="_top">Frames</a></li>
<li><a href="RrdBackend.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
